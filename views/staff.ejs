<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>
        직원관리
    </title>
    <meta charset='UTF-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="./jquery-ui-1.12.1/datepicker-ko.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap');

        * {
            font-family: 'Nanum Gothic', sans-serif;
        }

        body {
            overflow-x: hidden;
            overflow-y: auto;
        }

        table,
        th,
        td {
            border: 1px solid #bcbcbc;
            border-radius: 5px;
            border-collapse: collapse;
            text-align: center;
            padding: 5px;
        }

        .employers-list-bg {
            padding: 180px 0px 80px 0px;
            background-image: url("../images/employers-list-bg.jpg");
            background-size: cover;
            position: relative;
            background-position: center center;
        }

        .employers-list-img img {
            max-width: 80px;
            -webkit-box-shadow: 0 0 5px 0px #d7d7d7;
            box-shadow: 0 0 5px 0px #d7d7d7;
        }

        .employers-icons li {
            margin: 0px !important;
        }

        .employers-details-bg {
            padding: 180px 0px 80px 0px;
            background-image: url("../images/employers-details-bg.jpg");
            background-size: cover;
            position: relative;
            background-position: center center;
        }

        .employers-details {
            border-top: 1px solid #eeeeee;
            border-bottom: 1px solid #eeeeee;
        }

        .employers-share-job li a {
            height: 40px;
            width: 40px;
            color: #777777;
            text-align: center;
            font-size: 19px;
            display: inline-block;
            line-height: 38px;
            border-radius: 4px;
            border: 1px solid #dddddd;
            -webkit-transition: all 0.5s;
            transition: all 0.5s;
            margin: 6px 0;
            transition: all 0.5s;
        }

        .employers-share-job li a:hover {
            background-color: #ff4f6c;
            color: #ffffff;
            -webkit-transition: all 0.5s;
            transition: all 0.5s;
            border-color: #ff4f6c;
            -webkit-transform: translateY(-3px);
            transform: translateY(-3px);
            -webkit-box-shadow: 0 3px 20px -8px #000000;
            box-shadow: 0 3px 20px -8px #000000;
        }

        @media (min-width: 200px) and (max-width: 768px) {
            .m-14 {
                margin: 14px 0px;
            }
        }

        @media (max-width: 425px) {
            .employers-details-time h6 {
                text-align: center !important;
            }

            .employers-details-item-border {
                margin-bottom: 1rem !important;
                margin-top: 1rem !important;
            }
        }

        .list-grid-item {
            border: 1px solid #ececec;
            border-radius: 6px;
            -webkit-transition: all 0.5s;
            transition: all 0.5s;
        }

        .list-grid-item:hover {
            -webkit-box-shadow: 0 0 20px 0px rgba(47, 47, 47, 0.09);
            box-shadow: 0 0 20px 0px rgba(47, 47, 47, 0.09);
            -webkit-transition: all 0.5s;
            transition: all 0.5s;
            border-color: transparent;
        }

        .left-sidebar .card-body {
            border-bottom: 1px solid #ececec;
        }

        .custom-control {
            margin: 11px 20px;
        }

        .card-header {
            background-color: transparent;
            margin-bottom: 0 !important;
        }

        .pagination.job-pagination .page-link {
            border-radius: 50% !important;
            margin: 0 4px;
            height: 46px;
            width: 45px;
            line-height: 29px;
            text-align: center;
            color: #777777;
        }

        .page-item.active .page-link {
            background-color: #ff4f6c;
            border-color: #ff4f6c;
            color: #ffffff !important;
        }

        .f-14 {
            font-size: 14px;
        }

        button,
        button:visited,
        button:active {
            border: none !important;
            outline: none !important;
            text-align: left !important;
            background-color: transparent !important;
        }

        .col-lg-9 {
            padding-left: 100px;
        }

        .container {
            margin-left: 100px;
            padding-top: 20px;

        }
    </style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/4.9.95/css/materialdesignicons.css" rel="stylesheet">
    <!-- 직원검색기능
        <script>
        $(document).ready(function() {
            $("#keyword").keyup(function() {
                var k = $(this).val();
                var i = $('staff_table').children(table);
                $("i > staff_table2 > tbody > tr").hide();
                var temp = $("i> #staff_table2 > tbody > tr > td:nth-child(5n+1):contains('" + k + "')");

                $(temp).parent().show();
            })
        })
    </script>
    -->
    <!-- 사진 업로드 기능 -->
    <script>
        const browseBtn = document.querySelector('.browse-btn');
        const realInput = document.querySelector('#real-input');
        browseBtn.addEventListener('click', () => {
            realInput.click();
        });
    </script>
</head>

<body>
    <div style="margin-left: 8.4px; margin-top: 8px;"><%- include('./nav'); %></div>
    <div style="background-color: #f8f8f8; height: max-content;">
        <div class="container">
            <!-- for문 직원 개수 만큼 돌려서.. 여기에 출력 해야 함.. -->
            <div class="row">

                <div class="col-lg-3">
                    <form action="/staff_lookup" method="post">
                        <!-- 백부분 코드 필요 -->
                        <div class="left-sidebar">
                            <div class="accordion" id="accordionExample">
                                <div class="card mt-4">
                                    <a data-toggle="collapse" class="job-list" aria-expanded="true">
                                        <div class="card-header" id="headingtwo">
                                            <button type="button" class="btn btn-default btn-block"
                                                data-toggle="collapse" data-target="#collapse1" style="border:0;">부서별
                                                보기</button>
                                        </div>
                                    </a>
                                    <div id="collapse1" class="collapse show">
                                        <div class="card-body p-0">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio1" name="department" value="기획부"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio1">기획부</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio2" name="department" value="시설안전부"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio2">시설안전부</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio3" name="department" value="식음료부"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio3">식음료부</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio4" name="department" value="인사부"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio4">인사부</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio5" name="department" value="재무부"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio5">재무부</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio6" name="department" value="프론트"
                                                    class="custom-control-input" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio6">프론트</label>
                                            </div>

                                        </div>

                                        <!-- 전체보기도 만들어서 체크박스로 바꾸자.... + 저번에 했던 층별보기도 체크박스로 구현하자 -->

                                    </div>
                                </div>
                                <!-- </div> -->




                                <!-- collapse one end -->
                                <div class="card mt-4">
                                    <a data-toggle="collapse" class="job-list" aria-expanded="true">
                                        <div class="card-header" id="headingtwo">
                                            <button type="button" class="btn btn-default btn-block"
                                                data-toggle="collapse" data-target="#collapse2" style="border:0;">직급별
                                                보기</button>
                                        </div>
                                    </a>

                                    


                                    <div id="collapse2" class="collapse show" aria-labelledby="headingtwo">
                                        <div class="card-body p-0">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck7"
                                                    name="position" value="팀장" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck7">팀장</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck8"
                                                    name="position" value="과장" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck8">과장</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck3"
                                                    name="position" value="대리" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck3">대리</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck4"
                                                    name="position" value="사원" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck4">사원</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck5"
                                                    name="position" value="부장" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck5">부장</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customCheck6"
                                                    name="position" value="사장" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customCheck6">사장</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- collapse one end -->
                                <div class="card mt-4">
                                    <a data-toggle="collapse" class="job-list" aria-expanded="true">
                                        <div class="card-header" id="headingtwo">
                                            <button type="button" class="btn btn-default btn-block"
                                                data-toggle="collapse" data-target="#collapse3" style="border:0;">출퇴근
                                                직원보기</button>
                                        </div>
                                    </a>
                                    <div id="collapse3" class="collapse show" aria-labelledby="headingthree">
                                        <div class="card-body p-0">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio7" name="customRadio1"
                                                    class="custom-control-input" name="staff_status" value="출근" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio7">출근</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="customRadio8" name="customRadio1"
                                                    class="custom-control-input" name="staff_status" value="퇴근" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="customRadio8">퇴근</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card mt-4">
                                    <a data-toggle="collapse" class="job-list" aria-expanded="true">
                                        <div class="card-header" id="headingtwo">
                                            <button type="button" class="btn btn-default btn-block"
                                                data-toggle="collapse" data-target="#collapse4" style="border:0;">외국어
                                                가능직원</button>
                                        </div>
                                    </a>
                                    <div id="collapse4" class="collapse show" aria-labelledby="headingfour">
                                        <div class="card-body p-0">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="lang1" name="customRadio3"
                                                    class="custom-control-input" name="language" value="없음" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="lang1">없음</label>
                                            </div>
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="lang2" name="customRadio3"
                                                    class="custom-control-input" name="language" value="독일어" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="lang2">독일어</label>
                                            </div>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" id="lang3" name="customRadio3"
                                                    class="custom-control-input" name="language" value="러시아어" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15"
                                                    for="lang3">러시아어</label>
                                            </div>

                                            <div class="custom-control custom-checkbox checkbox-info">
                                                <input type="checkbox" id="lang4" name="customRadio3"
                                                    class="custom-control-input" name="language" value="스페인어" checked>
                                                <label class="custom-control-label ml-1 text-muted f-15 "
                                                    for="lang4">스페인어</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- collapse one end -->
                            </div>
                        </div>
                    </form>
                </div>

                <!-- form으로 checkbox를 통해 받은 정보를 통해 백에서 staff 정보를 보내주면 아래에서 출력 -->

                <div class="col-lg-9">
                    <!-- 직원 검색창 -->
                        <div class="mb-4">
                            <div class="small mb-3">검색</div>
                            <div class="input-group" style="display: flex;">
                                <input placeholder="직원 이름 검색" type="text" class="form-control" id="keyword">
                                <button class="btn btn-lg">검색</button>
                            </div>
                        </div>
                        <div>
                            <!-- 직원추가 버튼 : 디자인시 바꿔주세용 -->
                            <button type="button" class="btn btn-pink btn-lg" data-toggle="modal" data-target="#myModal">직원추가</button>
                            <div class="modal fade" id="myModal" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h2 class="modal-title">직원 등록</h2>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button> <br>
                                        </div>
                                        <div class="modal-body">
                                            <form name="직원 등록" action="" method="post">
                                                <!-- 디자인 시 inputbox크기 조정 부탁드려요 -->
                                                <div class="form-group">
                                                    <label form="newstaff_name">이름 </label>
                                                    <input name="newstaff_name" type="text" id="newstaff_name" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label for="newstaff_photo">사진</label>
                                                    <input type="file" name = "newstaff_photo" id="newstaff_photo" class="newstaff_photo" accept="img/*">
                                                    <!-- 버튼 디자인 부탁드려요-->
                                                    <button class="browse-btn">사진업로드</botton>
                                                </div>
                                                <div class="form-group">
                                                    <label for="newstaff_div">부서</label>
                                                    <select class="form-control" style="width:40%; margin-right:10px" name="newstaff_div" id="newstaff_div">
                                                        <option value="기획부" selected>기획부</option>
                                                        <option value="시설안전부">시설안전부</option>
                                                        <option value="식음료부">식음료부</option>
                                                        <option value="인사부">인사부</option>
                                                        <option value="재무부">재무부</option>
                                                        <option value="프론트">프론트</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label for="newstaff_position">직급</label>
                                                    <select class="form-control" style="width:40%; margin-right:10px" name="newstaff_position" id="newstaff_position">
                                                        <option value="사장">사장</option>
                                                        <option value="부장">부장</option>
                                                        <option value="팀장">팀장</option>
                                                        <option value="과장">과장</option>
                                                        <option value="대리">대리</option>
                                                        <option value="사원" selected>사원</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>연락처</label><br>
                                                    <input name="newstaff_phonenum" type="tel" id="newstaff_phonenum" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label>계좌번호</label><br>
                                                    <select class="form-control" style="width:40%; margin-right:10px" name="newstaff_account_bank" id="newstaff_account_bank">
                                                        <!-- 농협 등.. 추후 좀더 추가  -->
                                                        <option value="KB국민은행" selected>KB국민은행</option>
                                                        <option value="우리은행">우리은행</option>
                                                        <option value="하나은행">하나은행</option>
                                                        <option value="한국씨티은행">한국씨티은행</option>
                                                        <option value="SC제일은행">SC제일은행</option>
                                                        <option value="신한은행">신한은행</option>
                                                    </select>
                                                    <input name="newstaff_account_num" type="text" id="newstaff_account_num" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label for="reservation">사용가능 언어</label><br>
                                                    <label><input type="checkbox" name="usable_language" value="eng">영어</label>
                                                    <label><input type="checkbox" name="usable_language" value="jap">일본어</label>
                                                    <label><input type="checkbox" name="usable_language" value="chi">중국어</label>
                                                    <label><input type="checkbox" name="usable_language" value="ger">독일어</label>
                                                    <label><input type="checkbox" name="usable_language" value="rus">러시아어</label>
                                                    <label><input type="checkbox" name="usable_language" value="esp">스페인어</label><br>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-default" data-dismiss="modal">등록</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 직원 추가 팝업 끝 -->
                        </div>
                                <div class="row">
                                    <div style="display: grid; grid-template-columns: 400px 400px;">
                                        <% for (var i=0; i < staff.length; i++) { %>
                                        <!-- 검색기능을 위해 div에 id 부여 -->
                                        <div id="staff_table" style="display: flex;">
                                            <img src=<%=staff[i].id+".png" %> alt="직원 사진"height="117px">
                                            <div style="display: inline-block; margin: 20px;">
                                                <!-- 검색기능을 위해 table 에 id 부여 -->
                                                <table id="staff_table2">
                                                    <tbody>
                                                        <tr>
                                                            <th>이름</th>
                                                            <td><%= staff[i].name%></td>
                                                        </tr>
                                                        <tr>
                                                            <th>부서</th>
                                                            <td><%= staff[i].department %></td>
                                                        </tr>
                                                        <tr>
                                                            <th>전화번호</th>
                                                            <td><%= staff[i].phone_number %></td>
                                                        </tr>
                                                        <tr>
                                                            <th>이메일</th>
                                                            <td><%= staff[i].email %></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <% } %>
                                
                                    </div>
                                
                                </div>
                                </div>
                                
                                
                                
                                
                                </div>
                                </div>
                                
                                <div class="row" style="text-align: center;">
                                    <div class="col-lg-12">
                                        <nav aria-label="Page navigation example">
                                            <ul class="pagination job-pagination justify-content-center mt-5 mb-5">
                                                <li class="page-item disabled">
                                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                                                        <i class="mdi mdi-chevron-double-left f-15"></i>
                                                    </a>
                                                </li>
                                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                                <li class="page-item"><a class="page-link" href="#">4</a></li>
                                                <li class="page-item">
                            <a class="page-link" href="#">
                                <i class="mdi mdi-chevron-double-right f-15"></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    </div>



</body>

</html>